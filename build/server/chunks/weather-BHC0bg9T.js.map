{"version":3,"file":"weather-BHC0bg9T.js","sources":["../../../.svelte-kit/adapter-node/chunks/weather.js"],"sourcesContent":["function getMockWeather() {\n  const now = /* @__PURE__ */ new Date();\n  return {\n    updatedAt: now.toISOString(),\n    outdoor: { temp: 12.2, trend: 0.8, feelsLike: 12.2, dewPoint: 5.6, humidity: 64, vpd: 0.511 },\n    indoor: { temp: 14.5, trend: -1.4, humidity: 57 },\n    solar: { solar: 306.2, uvi: 2, sunrise: \"06:25\", sunset: \"17:57\", moon: \"Waning Gibbous\" },\n    rain: { rate: 0, daily: 0, event: 31.8, hourly: 0, weekly: 33.6, monthly: 33.6, yearly: 33.6 },\n    wind: { dir: 221, speed: 8.6, gust: 18.4, timeSpeed: \"09:46\", timeGust: \"00:07\" },\n    pressure: { rel: 993.7, abs: 993.7, deltaRel: -0.2, deltaAbs: -0.2 },\n    battery: { status: \"NORMAL\", note: \"Sensor Array\" },\n    series: Array.from({ length: 48 }).map((_, i) => ({\n      t: i,\n      temp: 6 + i * 0.12 + Math.sin(i / 3) * 0.5,\n      feels: 5.5 + i * 0.1 + Math.sin(i / 4) * 0.4,\n      dew: 3 + Math.sin(i / 5) * 0.3\n    }))\n  };\n}\nasync function fetchWeather(fetchFn = fetch) {\n  try {\n    const res = await fetchFn(`/weather/current`);\n    if (!res.ok) throw new Error(`status ${res.status}`);\n    const data = await res.json();\n    const connected = res.headers.get(\"x-weather-connected\") === \"true\";\n    const source = res.headers.get(\"x-weather-source\") || \"mock\";\n    return { weather: data, connected, source };\n  } catch (_) {\n    return { weather: getMockWeather(), connected: false, source: \"mock\" };\n  }\n}\nexport {\n  fetchWeather as f\n};\n"],"names":[],"mappings":"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"}